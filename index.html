<!DOCTYPE HTML>
<!--
	Photon by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Comparing Tennis Greats: Aces</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Header -->
			<section id="header">
				<div class="inner">
					<!--<span class="icon solid major fa-cloud"></span>-->
					<i class="fas fa-baseball-ball icon-Large"></i>
					<h1><strong>Comparing Tennis Greats: Aces</strong><br />
					Let's take a look at some of the greatest current tennis players<br />
					and how they compare for aces.<br />
					Check it out below!!!</p>
					<ul class="actions special">
						<li><a href="#one" class="button scrolly">Discover</a></li>
					</ul>
				</div>
			</section>

		<!-- One -->
			<section id="one" class="main style1">
				<div class="container">
					<div class="row gtr-150">
						<div class="col-6 col-12-medium">
							<header class="major">
								<h2>Who's the top Ace?</h2>
							</header>
							<p>Today we're looking at three of the greatest tennis players of all time.
							Roger Federer, Rafael Nadal and Novak Djokovic are all serial grand slam champions,
							former or current World No.1s and hold a number of the sport's most illustrious records.
							With all this success we want to know, but who's got the best serve? To find this out 
							we're going to quickly look a simple tennis stat; Aces. To be such great champions, these guys
							have hit a number of aces in their day, but just how good are they at it?
							</p>
						</div>
						<div class="col-6 col-12-medium imp-medium">
							<!--<span class="image fit"><img src="images/pic01.jpg" alt="" /></span> -->
<style>	
	.bar {fill: dodgerblue;}
	.bar:hover {fill: indianred;}
	.line {fill: none; stroke: royalblue; stroke-width: 3;}	
    .tooltip {
      line-height: 1;
      padding: 6px;
      background: rgba(0, 0, 0, 0.7);
      color: #fff;
      border-radius: 4px;
      font-size: 12px;
    }
    .tooltipsp {
      line-height: 1;
      padding: 6px;
      background: rgba(0, 0, 0, 0.7);
      color: #fff;
      border-radius: 4px;
      font-size: 12px;
    }
div.tooltip {
  position: absolute;
  text-align: center;
  width: 72px;
  height: 35px;
  padding: 2px;
  font: 12px sans-serif;
  background: mediumslateblue;
  border: 0px;
  border-radius: 8px;
  pointer-events: none;
}
</style>

<body id="chart" onload='init()'>
<button id="rf" class="btn">Federer</button>
<button id="rn" class="btn">Nadal</button>
<button id="nd" class="btn">Djokovic</button>
<br>

<svg width=450 height=300>
</svg>
<script type="text/javascript">
function init(){
d3.selectAll("#rf").attr("style","background-color:coral");
	
show_stats(0);	

d3.select("#rn").on("click", function(d,i)
        {
	    d3.selectAll(".btn").attr("style","background-color:white");
	    d3.selectAll("#rn").attr("style","background-color:coral");
            show_stats(1);
        })
        d3.select("#nd").on("click", function(d,i)
        {
	    d3.selectAll(".btn").attr("style","background-color:white");
	    d3.selectAll("#nd").attr("style","background-color:coral");
            show_stats(2);
        })
	d3.select("#rf").on("click", function(d,i)
        {
	    d3.selectAll(".btn").attr("style","background-color:white");
	    d3.selectAll("#rf").attr("style","background-color:coral");
            show_stats(0);
        })
	
function show_stats(id){
d3.select("g").remove();
	
var tooltip = d3.select("#chart").append("div")
    .attr("class", "tooltip");
	
var svg = d3.select("svg"),
margin = {top: 60, right: 60, bottom: 60, left: 60},
width = d3.select("svg").attr("width")-margin.left - margin.right,
height = d3.select("svg").attr("height")-margin.top - margin.bottom;

var x = d3.scaleBand()
          .range([0, width])
          .padding(0.2);
var y = d3.scaleLinear()
          .range([height, 0]);
          
var g = svg
.append("g")
.attr("transform","translate(" + margin.left + "," + margin.top + ")");
	
var players = ["Federer","Nadal","Djokovic"];
	
d3.csv('https://raw.githubusercontent.com/roryb2/My-Story/gh-pages/files/'+players[id]+'.csv').then(function(data){ 
  x.domain(data.map(function(d) { return d.Year; }));
  y.domain([0, 750]);
console.log(data.map(function(d) { return d.Year; }));

g.append("g")
.attr("transform", "translate(0," + height + ")")
.call(d3.axisBottom(x))
;

g.append("g")
.call(d3.axisLeft(y))
;

g.append('g')
.attr('class', 'grid')
.call(d3.axisLeft()
.scale(y)
.tickSize(-width, 0, 0)
.tickFormat(''))
;

svg.append('text')
    .attr('x', -(height / 2) - margin.left)
    .attr('y', margin.top / 2.4)
    .attr('transform', 'rotate(-90)')
    .attr('text-anchor', 'middle')
    .text('Year');

svg.append('text')
      .attr('class', 'label')
      .attr('x', width / 2 + margin.left)
      .attr('y', height + margin.top * 1.7)
      .attr('text-anchor', 'middle')
      .text('Aces');
	
g.selectAll(".bar")
.data(data)
.enter().append("rect")
.attr("class", "bar")
.attr("x", function(d,i){return x(d.Year);})
.attr("y", function(d){return y(d.Aces);})
.attr("width", x.bandwidth())
.attr("height", function(d){return height - y(d.Aces);})
.on("mouseenter", function(d){
  	if(d.Year == "2016" && id == 0){
	tooltip
        .style("left", d3.event.pageX - 50 + "px")
        .style("top", d3.event.pageY - 70 + "px")
        .style("display", "inline-block")
        .html("Federer had his worst aces in"+(d.Year) + "<br>" + "Hitting only " + (d.Aces)+ " and cutting his season short due to injury");
	}
	else{
	tooltip
        .style("left", d3.event.pageX - 50 + "px")
        .style("top", d3.event.pageY - 70 + "px")
        .style("display", "inline-block")
        .html("Year: "+(d.Year) + "<br>" + "Aces: " + (d.Aces));
	}
        })
.on("mouseout", function(d){ tooltip.style("display", "none");})
;	
});
}
}
</script>
</body>						</div>
					</div>
				</div>
			</section>


		<!-- Footer -->
			<section id="footer">
				<ul class="copyright">
					<li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
				</ul>
			</section>

		<!-- Scripts -->
			<script src='https://d3js.org/d3.v5.min.js'></script>
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
	</body>
</html>
